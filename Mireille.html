<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"-->
<HTML lang="ja-JP">
<HEAD>
<META http-equiv="Content-type" content="text/html; charset=shift_jis">
<META http-equiv="Content-Script-Type" content="text/javascript">
<META http-equiv="Content-Style-Type" content="text/css">
<LINK rel="start" href="/">
<LINK rel="index" href=".">
<LINK rev="made" href="mailto:naruse&#64;airemix.com" title="Mireille">
<TITLE>: Intoroduction to Mireille :</TITLE>
<LINK rel="stylesheet" href="D:\Web\Airemix\airemix.css">
<STYLE type="text/css" media="screen">
<!--
@charset "Shift_JIS";
/* Airemix General Style Sheet */
/* "This file is written in shift_jis, CRLF." 空 */
/* $Airemix$ */



/* ==================== 要素の標準スタイル ==================== */

/* ========== リンクのスタイル ========== */
/* 通常のリンク */
A:link		{color:#44f}
A:visited	{color:#c6f}
A:link:hover,A:visited:hover
{color:#fa8;text-decoration:underline;}
A:link:active,A:visited:active
{color:#f00;text-decoration:underline;}


/* ========== その他の要素 ========== */
body{
	background-image:url('/HP_img/bakimg.png');
	color:#88f;
	font-family: 'MS UI Gothic',Osaka,sans-serif;
	font-size: 95%;
	line-height: 1.4;
	margin: 0 auto;
	padding: 0;
	text-align:center;
}
abbr, acronym{
	font-variant: small-caps;
	letter-spacing: 0.1em;
}
dd{ margin-left: 40px }
del{ text-decoration: line-through }
form{margin:0;}
h1{
	font-weight: bolder;
	font-size: 2em;
	margin: .67em 0;
}
h2{
	font-weight: bolder;
	font-size: 1.5em;
	margin: .83em 0;
}
h3{
	font-weight: bolder;
	font-size: 1.17em;
	margin: 1em 0;
}
h4{
	font-weight: bolder;
	margin: 1.33em 0;
}
h5{
	font-weight: bolder;
	font-size: .83em;
	line-height: 1.17em;
	margin: 1.67em 0;
}
h6{
	font-weight: bolder;
	font-size: .67em;
	margin: 2.33em 0;
}
hr{ border: 1px inset }
img{ border-style: none; }
a:link img, a:visited img
{border: 1px dashed #00f}
a:link:hover img, a:link:active img,a:visited:hover img, a:visited:active img
{border: 1px dotted #f88}
p{ margin: 1em 0 }
small{
	font-size: 75%;
}
dl{
	margin: 1.33em 0;
}
ul{
	margin: 1.33em 0;
	margin-left: 40px;
}
ol{
	list-style-type: decimal;
	margin: 1.33em 0;
	margin-left: 40px
}
dl dl, dl ol, dl ul, ol dl, ol ol, ul dl, ul ol{
	margin-top: 0;
	margin-bottom: 0;
}
ol ul, ul ul{
	list-style-type: circle;
	margin-top: 0;
	margin-bottom: 0;
}
ol ol ul, ol ul ul, ul ul ul{
	list-style-type: square;
	margin-top: 0;
	margin-bottom: 0;
}
li{
	text-align: left;
}
strong{ font-weight: bolder }

i, cite, em, dfn,
var, address{ font-family: serif; font-style: italic }
pre, tt, code,
kbd, samp{ font-family: monospace }
pre{ white-space: pre }
table{
	border-collapse: separate;
	border-spacing: 0; 
	font-family: 'MS UI Gothic',Osaka,sans-serif;
	font-size: 100%;
	margin: 0 auto;
	padding: 0;
	text-align:center;
}
th,td{
	margin: 0;
	padding: 0;
}



/* ==================== 全体に共通のクラス ==================== */
/* 何らかの注意や警告 */
.warning, .caution{
	color: #f00;
}
/* note */
.note{
	background-color: #eef;
	border: #6ac solid 2px;
	margin: 1em auto;
	padding: 0.5em;
	width: 60%;
}


/* ========== PAGE HEAD/FOOT ========== */
.PageHead,.PageFoot{
	background-color: #6ac;
	clear: both;
	color: #fff;
	margin: 0 auto;
	padding: 0.4em;
	text-align: center;
	width: 90%;
}
.PageHead H1,.PageFoot P{
	font-family: 'Comic Sans MS', sans-serif;
	font-size: 1.2em;
	font-weight: normal;
	line-height: 1;
	margin: 0;
}
.PageHead H1{float: left;text-align: left}
.PageFoot P{text-align: right}
.PageFoot A:link,.PageFoot A:visited{color:#fff;text-decoration: none}
.PageFoot A:hover{color:#fff;text-decoration: underline}
.PageHead DIV,.PageFoot DIV{
	letter-spacing: 1em;
	line-height: 1.2;
	margin: 0;
}
.PageHead DIV{text-align: right}
.PageFoot DIV{float: left;text-align: left}


/* ========== Skyline ========== */
.Skyline{
	font-size: 80%;
	margin: 0 0.2em;
	text-align: right;
}
.Skyline SPAN{
	background-color: #cdf;
	color: #05a;
	padding: 0.1em 0.2em;
}


/* ========== 著作権表示 ========== */
.AiremixCopy{
	font-family: Tahoma,sans-serif;
	font-size: 115%;
	font-style: normal;
	font-weight: normal;
	text-align: right;
}
.Copyright{
	font-family: Tahoma,sans-serif;
	font-size: 100%;
	font-style: normal;
	font-weight: normal;
	text-align: center;
}


/* ========== 見出し ========== */
.heading2{
	background-color: #ace;
	color: #fff;
	font-family: 'Comic Sans MS','ＭＳ Ｐゴシック',sans-serif;
	font-size: 17px;
	font-weight: bold;
	margin: 1em auto;
	padding: 3px;
	text-align: center;
	width: 80%;
}
.heading3{
	background-color: #cdf;
	color: #05a;
	font-size: 15px;
	font-weight: normal;
	margin: 0.4em auto 0 auto;
	padding: 0.1em;
	text-align: center;
	vertical-align: middle;
	width: 60%;
}
.heading4{
	background-color: #eef;
	color: #59f;
	font-size: 15px;
	font-weight: normal;
	margin: 0.4em auto 0 auto;
	padding: 0.1em;
	text-align: center;
	vertical-align: middle;
}


/* ========== 汎用章分け ========== */
/* First Level */
.section{
	border: #6ac solid 5px;
	color: #246;
	margin: 2em auto;
	text-align: left;
	width: 90%;
}
.section .h{
	background-color: #6ac;
	color: #fff;
	font-size: 1.3em;
	font-weight: bold;
	line-height: 1.4;
	margin: 0.2em;
	padding: 0.1em 0.3em;
	text-align: left;
}
/* Second Level */
.section .section{
	border: 1px solid #cdf;
	margin: 1em 2em;
}
.section .section .h{
	background-color: #cdf;
	color: #05a;
	font-size: 1.1em;
	font-weight: normal;
}
/* ThirdLevel */
.section .section .section{
	border: 1px solid #aaf;
}
.section .section .section .h{
	background-color: #ccf;
	color: #55f;
	font-size: 100%;
}
/* Forth Level */
.section .section .section .section{
	border: 1px solid #55f;
}
.section .section .section .section .h{
	background-color: #eef;
	color: #59f;
}
/* Paragraph in Sections */
.section P{
	line-height: 1.3em;
	margin: 1em 2em;
}
/* PRE in Sections */
.section PRE{
	background-color: #eee;
	font-family: monospace;
	font-size: 85%;
	font-weight: normal;
	margin: 1em 4em;
	padding: 0.5em;
	text-align: left;
	white-space: pre;
	word-break: break-all;
	word-wrap: break-word;
}
/* List in Sections */
.section OL,.section UL{
	line-height: 1.3em;
	margin: 0.5em 4em;
}
.section DL{
	line-height: 1.3em;
	margin: 0.5em 2em;
}
.section DT{
	background-color: #eef;
	color: #444;
	font-size: 100%;
	font-weight: normal;
	margin: 0.2em;
	padding: 0.2em 0.3em;
	text-align: left;
}
.section DD{
	font-size: 100%;
	margin: 0 2em;
	text-align: left;
}
/* Table in Sections*/
.section table{
	border-collapse: collapse;
	border-color: #99a;
	border-spacing: 0; 
	border-style: solid;
	border-width: 1px;
	font-family: 'MS UI Gothic',Osaka,sans-serif;
	font-size: 100%;
	margin-left: 4em;
	text-align: left;
}
.section td, .section th{
	border-color: #aaf;
	border-style: solid;
	border-width: 1px;
	padding: 0.1em;
}



/* ==================== Airemix/ ==================== */
/* 履歴 */
.history{
	font-size:12px;
	height:100px;
	padding:3px;
	text-align:left;
	width:330px;
}
@media screen{.history{border:1px dashed #ccf}}
/* hoge */
#hoge{
	display: none;
	visibility: hidden;
}



/* ==================== Airemix Navigation ==================== */
#Navigation{
	table-layout: fixed;
	height: 64px;
	margin: 0 auto;
	width: 90%;
}
#Navigation #AiremixLogo{
	height: 64px;
	line-height:0;
	margin: 0;
	padding: 0;
	text-align:left;
	vertical-align:top;
	width:258px;
}
#Navigation #NaviBgmBox{
	font-size: 12px;
	height: 66px;
	margin: 0;
	padding: 0;
	text-align: center;
	vertical-align: middle;
	width: auto;
}
#Navigation #NaviInfo{
	background-image: url('/image/notice.png');
	background-repeat: no-repeat;
	background-position: top left;
	color: #000;
	font-size: 13px;
	height: 66px;
	margin: 0;
	overflow: auto;
	text-align: left;
	vertical-align: top;
	width: 500px;
}
#NaviInfoBox{
	height: 60px;
	line-height: 13px;
	margin: 0;
	overflow: auto;
	padding: 3px 5px;
	text-align: left;
	width: 490px;
}



/* ==================== Airemix Navigation Bar ==================== */
#NaviBar{
	background-color: transparent;
	height: 20px;
	margin: 0 auto;
	width: 90%;
}
#NaviBar a:link,#NaviBar a:visited{
	color:#fff;
	text-decoration: none;
}
#NaviBar a:link:hover,	#NaviBar a:visited:hover,
#NaviBar a:link:active,	#NaviBar a:visited:active{
	color:#f88;
	text-decoration: underline;
}
#NaviBar #NaviBarCap{
	background-color: transparent;
	background-image: url('/image/barCap.png');
	background-repeat: no-repeat;
	background-position: right;
	width: 10%;
}
#NaviBar td{
	background-color: transparent;
	text-align:right;
}
#NaviBar th{
	background-color:#ccf;
	background-image: url('/image/barBody.png');
	background-repeat: repeat-x;
	background-position: right;
	font-size:16px;
	text-align:center;
	width: 10%;
}
th.NaviItem a{font-size:16px;}

#NaviBar td#AiremixNaviVersion{
	background-color:#ccf;
	background-image: url('/image/barBody.png');
	background-repeat: repeat-x;
	background-position: right;
	font-size:10px;
	letter-spacing:2px;
	padding-right:10px;
	width: 10%;
}



/* ==================== 語句強調 ==================== */
/* //の強調 */
STRONG.s2f2f{
	color: #080;
	font-weight:normal;
}
/* ＞の強調 */
STRONG.s8184{
	background-color: #ddf;
	font-weight:normal;
}
/* §の強調 */
STRONG.s8198{
	background-color: #fea;
	font-weight:bold;
}
/* ◇の強調 */
STRONG.s819e{
	background-color: #ddf;
	font-weight:bold;
}
/* □の強調 */
STRONG.s81a0{
	background-color: #dfd;
	font-weight:normal;
}
/* ※の強調 */
STRONG.s81a6{
	color: #f00;
	font-weight:bold;
}



/* ============================================================ */
BODY{
	color: #333;
}
-->
</STYLE>
</HEAD>

<BODY>
<P class="Skyline">
<P class="Skyline"><SPAN><A href="http://www.airemix.com/">Airemix</A>/<A
 href="http://www.airemix.com/HP_CGI/">HP_CGI</A>/</SPAN></P>

<DIV class="PageHead"><H1>Intoroduction to Mireille</H1><DIV>■■■■■■■</DIV></DIV>



<DIV class="section">
<H2 class="h">◇<A name="Mireilleの特徴">Mireilleの特徴</A></H2>


<DIV class="section">
<H3 class="h"><A name="Mireilleとは">Mireilleとは</A></H3>
<P>基本的には、レスアイコン掲示板です。CSSを編集すれば楽に色を変えたりでき、記事部分のデザインをそこそこ変更可能です。さらにHTMLの知識があれば管理CGI上からデザインをかなりの部分まで好みどおりにすることが可能で、アイコンを使わなかったり、色を選べなくしたり、ということまで出来るので自由度は高いほうです。他にも重宝するであろう以下の機能を備えています。</P>
</DIV>


<DIV class="section">
<H3 class="h"><A name="Mireilleの持つ機能（利用者から見た場合）">Mireilleの持つ機能（利用者から見た場合）</A></H3>
<UL>
	<LI><STRONG>記事ナビ！</STRONG>が新着記事・ページ内のスレッドの一覧をさくっと表示してくれる</LI>
	<LI>親記事に子記事がぶら下がる、いわゆるレス式掲示板</LI>
	<LI>利用者による記事の修正・削除機能</LI>
	<LI>キーワードによるログ検索機能</LI>
	<LI><A href="http://www.koizuka.jp/wwwd/">WWWD</A>や<A href="http://www.nakka.com/wwwc/">WWWC</A>のLastModified型更新チェックに対応</LI>
	<LI>一番右上に最後に投稿された内容の情報を一部表示</LI>
	<LI>騙り防止のための署名機能</LI>
	<LI>表示する子記事数を制限できる</LI>
	<LI>一つ一つの投稿にアイコンをつけられます(アイコンなしスタイルも同梱) <SPAN class="warning">*</SPAN></LI>
	<LI>投稿時のアイコンのプレビュー機能 <SPAN class="warning">*</SPAN></LI>
	<LI>指定時間以内の投稿にNewマーク表示 <SPAN class="warning">*</SPAN></LI>
	<LI>クッキーを使って、未読と思われる記事の日付けを色づけ <SPAN class="warning">*</SPAN></LI>
	<LI>アクセスキーがそこそこ設定されている <SPAN class="warning">*</SPAN></LI>
	<LI>そこそこHTML4.01Strictに準拠 <SPAN class="warning">*</SPAN></LI>
	<LI>そこそこCSS2に準拠 <SPAN class="warning">*</SPAN></LI>
	<LI>WinIE4以降, MacIE5以降, Netscape4以降, Mozilla1.0以降, Opera6以降で見れます <SPAN class="warning">*</SPAN></LI>
</UL>
<P><SPAN class="warning">*</SPAN>は初期デザインの場合で、デザインを改造している場合はこの限りではありません。</P>
</DIV>

<DIV class="section">
<H3 class="h"><A name="Mireilleの持つ機能（管理者から見た場合）">Mireilleの持つ機能（管理者から見た場合）</A></H3>
<UL>
	<LI>記事の並び順を、スレッド番号順と投稿日時順から選べる</LI>
	<LI>書き込みがあると指定メールアドレスにメールを送る（除外アドレス設定可能:管理人の書き込みは知らせないとか）</LI>
	<LI>管理人パスワードによる記事削除・編集機能</LI>
	<LI>1スレッドあたりの子記事の最大数を決めて、それを超えたらそれ以上投稿できないようにできる</LI>
	<LI>スレッドのロックができる</LI>
	<LI>NGワードの設定ができる</LI>
	<LI>使用可能なタグの設定ができる</LI>
	<LI>ログの最大数を決めて、それを超えたら、スレッドファイルの削除・変更・GZIP圧縮によって記事を削除できる</LI>
	<LI>ログのバックアップがしやすい（1スレッド1ファイルなのでバックアップが比較的お手軽に可能）</LI>
	<LI>ログのバックアップをgzip圧縮できる</LI>
	<LI>そこそこ高機能な管理用CGIが付属している</LI>
	<LI>管理CGIからCSSを読み込み、編集できる</LI>
	<LI>管理CGIから設定ファイルを設定できる</LI>
	<LI>管理CGIからアイコンリストを2通りの方法から選んで編集できる</LI>
	<LI>管理CGIでアイコンリストから、アイコン見本のHTMLを生成できる</LI>
	<LI>管理CGIからログ削除・ログ詰めができる</LI>
	<LI>HTML/CSSの知識があれば、style.cssの改造により記事表示や投稿画面などのデザインが変えられ、Perlの知識があれば、style.plからサブルーチンをオーバーライドしたりすることでさらに大幅に改造できる</LI>
</UL>
</DIV>
</DIV>



<!-- BEGIN_MireilleLicense -->
<DIV class="section">
<H2 class="h">◇<A name="Mireille License">Mireille License 1.0</A></H2>

<DIV class="section">
<H3 class="h">1. Mireilleを使う場合</H3>
<P>好きなように使うことができます。このケースに限り、<A href="http://www.airemix.com/">Airemix</A>の著作権表示やリンクを削除しても構いません。</P>
<P>「Mireilleを使う場合」とは、Mireilleがオリジナルのままか改造済みであるかを問いません。Mireilleの直接の利用者以外に、Web経由などでMireilleを使う人がいても構いません。しかし、Mireilleを配布する場合は、第3節が適用されるため、著作権表示を削除することはできません。</P>
</DIV>

<DIV class="section">
<H3 class="h">2. Mireilleのパッケージを二次配布する場合</H3>
<P>Mireilleのパッケージを変更しない限りにおいて、自由に配布することができます。この際、必要以上の利益を得ても構いません。</P>
<P>Mireilleのパッケージを変更した場合は第3節が適用されます。</P>
</DIV>

<DIV class="section">
<H3 class="h">3. Mireilleを改造したものを配布する場合</H3>
<P>以下の条件を満たす限りにおいて、自由に改造し、配布することができます。配布ライセンスに非オープンソースなライセンスを採用しても構いません。</P>
<UL>
	<LI><A href="http://www.airemix.com/">Airemix</A>のMireilleをベースに、改造を施したものである、と明示すること。（オリジナルのMireilleを二次配布しているのではないことがわかるようにする）</LI>
	<LI>改造後のCGIでも<A href="http://www.airemix.com/">Airemix</A>の著作権表記を残すか、掲示板に利用者がアクセスしたとき、最初に見るページのそこそこ目立つところに<A href="http://www.airemix.com/">Airemix</A>へのリンクを張ること。</LI>
</UL>
<P>但し、変更を重ねた末に、原型がなくなった場合はこの限りではありません。それでも、ヘルプあたりに「参考にしたところ」としてリンクをはっていただければ幸いです。</P>
</DIV>

<DIV class="section">
<H3 class="h">4. Mireilleのコードを利用する場合</H3>
<P>利用したソフトウェアのソースコードやそのソフトウェアの付属ドキュメントに、<A href="http://www.airemix.com/">Airemix</A>の著作権表記とMireilleのコードを利用した旨が書いてあれば十分です。</P>
</DIV>

<DIV class="section">
<H3 class="h">5. 商用利用する場合</H3>
<P>これまでに表記した通りで、「商用だったら」という特別な制限はありません。</P>
</DIV>

<DIV class="section">
<H3 class="h">6. 利用の禁止</H3>
<P>利用目的や利用者の所属によって、このライセンスで特別に利用を制限することはありません。しかし、何らかの律令格式の類によって、Mireilleの利用が禁じられていることがあるかもしれません。</P>
</DIV>

<DIV class="section">
<H3 class="h">7. 免責</H3>
<P>Mireille及びMireilleの関連・派生物を使って不利益を被ったとしてもわたしは知りません。うちの掲示板を通して実行可能な形で依頼されれば、なんらかの助けはするかもしれませんが、基本的には何もしない、という形で覚悟した上で使ってください。</P>
</DIV>

<DIV class="section">
<H3 class="h">8. Mireille License自体について</H3>
<P>Mireille LicenseはMireille及び、Mireilleの名の下に構成された関連物に対して効力を持ちます。</P>
<p>利用者が使用しているMireilleのバージョンに対応する規定と、最新のライセンスとが異なる場合、利用者はどちらのライセンスを使うか選択することができます。</P>
<P>Mireille LicenseはMireilleの利用を許可する際に用いる唯一の規定ではありません。著作者はMireille License以外のライセンスでMireilleの利用を許可する権利を留保しています。また、Mireille License自体が変更されることもあります。</P>
</DIV>

<DIV class="section">
<H3 class="h">9. 他のライセンスとの関連</H3>
<P>Mireilleの派生物は<A href="http://www.opensource.org/licenses/gpl-license.php">GNU General Public License (GPL)</A>で配布可能です。つまり、Mireille LicenseはGPLと矛盾することはありません。もし矛盾している条項がある場合、そのGPL下の派生物に対しては、該当するMireille Licenseの条項が継承されることはありません。</P>
<P>Mireilleの派生物は<A href="http://www.opensource.org/licenses/bsd-license.php">BSD License</A>で配布可能です。つまり、Mireille LicenseはBSD Licenseと矛盾することはありません。もし矛盾している条項がある場合、そのBSD License下の派生物に対しては、該当するMireille Licenseの条項が継承されることはありません。</P>
</DIV>

</DIV>
<!-- END_MireilleLicense -->



<DIV class="section">
<H2 class="h">◇<A name="設置の説明書">設置の説明書</A></H2>


<DIV class="section">
<H3 class="h">0. <A name="まずはじめに">まずはじめに</A></H3>
<P>この説明ファイルは、HTMLのみで構成されたサイトは作れる方、<BR>
とりあえず圧縮解凍、FTPによるアップロードは知っている人に書かれています。<BR>
「ホームページって何？どうやって作るの？」という方は想定していません。<BR>
そこまで範囲を広げると「設置の説明書」のレベルを越えてしまうため、ご了承ください。</P>
<P>また、このCGIでは漢字コードにEUC-JPを使用しているため、Windows標準のメモ帳では読めません。<BR>
<A href="http://www2s.biglobe.ne.jp/~t-susumu/toclip/">TeraPad</A>、
<A href="http://hidemaru.xaxon.co.jp/">秀丸エディタ</A>、
<A href="http://sakura-editor.sourceforge.net/index-j.html">さくらエディタ</A>などの、
EUC-JPも読めるエディタをお使いください。<BR>
CGI自体を編集する場合は、以上に挙げたエディタに搭載されている、<BR>
「色づけ機能」を使うと効率が格段に上がるとおもいます。</P>
<P>ちなみに、以上に挙げたエディタを使っても、文字化けして表示される場合は、<BR>
メニューバーの「ファイル」→「漢字指定コード指定再読み込み」→「EUC」（TeraPadの場合）<BR>
としたり、「ファイル」→「開く」で、「漢字コード」を「EUC」にして開いたりしてください。</P>
<P>TeraPadの場合には、オプション設定自体を変更して、<BR>
「表示」→「 オプション」→「ウィンドウ/漢字コード」タブ→「漢字コード」グループで、<BR>
漢字/改行コードを自動認識する　にチェックをつけるか、<BR>
下の二つで両方「読み込み時の○○コードと同じ」を選ぶか、<BR>
すれば、自動で文字化けしないようにしてくれます。</P>
</DIV>


<DIV class="section">
<H3 class="h">1. <A name="DLから解凍まで">DLから解凍まで</A></H3>
<P>まずダウンロードした圧縮ファイル（例えばMirR1233.ZIP）を適当なフォルダ内に解凍します。<BR>
この時フォルダ内には</P>
<TABLE summary="サーバーでの設置の仕方">
	<THEAD>
	<TR><TH scope="row">パス</TH><TH scope="row">備考</TH></TR>
	</THEAD>
	<TBODY>
	<TR><TH scope="col">/Mireille.txt</TH>		<TD>MireilleのReadme</TD></TR>
	<TR><TH scope="col">/Mireille.html</TH>		<TD>Mireilleの説明書</TD></TR>
	<TR><TH scope="col">/bbs/log/</TH>			<TD>ログ保存フォルダ</TD></TR>
	<TR><TH scope="col">/bbs/log/0.cgi</TH>		<TD>記事情報ファイル</TD></TR>
	<TR><TH scope="col">/bbs/</TH>				<TD>掲示板設置に必要なファイル群</TD></TR>
	<TR><TH scope="col">/bbs/index.cgi</TH>		<TD>CGI起動ファイル兼設定</TD></TR>
	<TR><TH scope="col">/bbs/icon.txt</TH>		<TD>アイコンリスト</TD></TR>
	<TR><TH scope="col">/bbs/iconctlg.cgi</TH>	<TD>アイコン見本</TD></TR>
	<TR><TH scope="col">/bbs/style.css</TH>		<TD>スタイルシート</TD></TR>
	<TR><TH scope="col">/bbs/core.cgi</TH>		<TD>Mireille本体</TD></TR>
	<TR><TH scope="col">/bbs/style.pl</TH>		<TD>Mireilleスタイル設定</TD></TR>
	<TR><TH scope="col">/bbs/help.pl</TH>		<TD>ヘルプ</TD></TR>
	<TR><TH scope="col">/bbs/artnavi.js</TH>	<TD>記事ナビJavaScript</TD></TR>
	<TR><TH scope="col">/opti/</TH>				<TD>設置してもしなくてもいいファイル群</TD></TR>
	<TR><TH scope="col">/opti/manage.cgi</TH>	<TD>管理CGI</TD></TR>
	<TR><TH scope="col">/opti/convert12.cgi</TH><TD>ログファイルを他形式から1.2形式に変換する</TD></TR>
	<TR><TH scope="col">/opti/notify.pl</TH>	<TD>メールによるお知らせ機能を使うときに設置する</TD></TR>
	<TR><TH scope="col">/opti/.htaccess</TH>	<TD>.htaccessファイル</TD></TR>
	</TBODY>
</TABLE>
<P>となっているはずです。</P>
</DIV>


<DIV class="section">
<H3 class="h">2. <A name="初期設定">初期設定</A></H3>
<P>まずindex.cgiを開いて一番最初の一行を設定します。<BR>
「<CODE>#!/usr/local/bin/perl</CODE>」か「<CODE>#!/usr/bin/perl</CODE>」のどちらかで大部分は動くと思います。</P>
（Biglobeでは <CODE>#!/usr/local/bin/perl5</CODE> です）<BR>
<P>設定項目は他にもありますが、とりあえずまずここだけ設定してちゃんと動くか試してください。</P>
</DIV>


<DIV class="section">
<H3 class="h">3. <A name="FTPからアップロード">FTPからアップロード</A></H3>
<P>設置したいサーバーのディレクトリ（例えば<CODE>bbs/</CODE>）に</P>
<TABLE summary="サーバーでの設置の仕方">
	<THEAD>
	<TR><TH scope="row">パス</TH><TH scope="row">属性</TH><TH scope="row">用途</TH></TR>
	</THEAD>
	<TBODY>
	<TR><TH scope="col">/bbs</TH>			<TD>777(755)</TD><TD>掲示板のディレクトリ</TD></TR>
	<TR><TH scope="col">/bbs/log</TH>		<TD>777(755)</TD><TD>ログ保存ディレクトリ</TD></TR>
	<TR><TH scope="col">/bbs/log/0.cgi</TH> <TD>666</TD><TD>記事情報ファイル</TD></TR>
	<TR><TH scope="col">/bbs/index.cgi</TH> <TD>755(700)</TD><TD>CGI起動ファイル兼設定</TD></TR>
	<TR><TH scope="col">/bbs/core.cgi</TH>	<TD>644</TD><TD>Mireille本体</TD></TR>
	<TR><TH scope="col">/bbs/style.pl</TH>	<TD>644</TD><TD>Mireilleスタイル設定</TD></TR>
	<TR><TH scope="col">/bbs/artnavi.js</TH><TD>644</TD><TD>記事ナビ</TD></TR>
	<TR><TH scope="col">/bbs/icon.txt</TH>	<TD>666</TD><TD>アイコンリスト</TD></TR>
	<TR><TH scope="col">/bbs/iconctlg.cgi</TH> <TD>666</TD><TD>アイコン見本</TD></TR>
	<TR><TH scope="col">/bbs/help.pl</TH>	<TD>644</TD><TD>ヘルプ</TD></TR>
	<TR><TH scope="col">/bbs/style.css</TH> <TD>666</TD><TD>スタイルシート</TD></TR>
	</TBODY>
</TABLE>
<P>のように設置します。</P>
<P>ちなみに、</P>
<UL>
	<LI>ここに挙げたパーミッションは一般的なサーバーでの場合です。<BR>
	CGIやデータファイルのパーミッションがサーバー側から指定されていれば、そちらを最優先してください。</LI>
	<LI>ErrorScreenがでても、「<SAMP>Can't write...</SAMP>」系でなければパーミッションはあっています。</LI>
	<LI>「<SAMP>500InternalServerError</SAMP>」か「<SAMP>Can't write...</SAMP>」系のエラーがでたら、パーミッションが原因かもしれません。</LI>
	<LI>ErrorScreenのでないエラーでは、FTPでの転送モードがテキストモードでなく、バイナリモードで転送してしまった可能性もあります。<BR>
	テキストモードで転送しなおしてみてください。</LI>
</UL>
<P>さて、これで、おそらく、もう動作する状態になっているはずです。<BR>
最初は0.cgiの内容が表示されていますが、これは何か新しい書き込みがあると、<BR>
自動的に表示されないようになるのでご安心を。<BR>
さっそく、テスト書き込みをしてみましょう。<BR>
<P>もし動かないときは <A href="#Mireilleの設置でつまづいたら">Mireilleの設置でつまづいたら</A> を参照してください。</P>
<P>テストがちゃんとできるようになれば、この掲示板を設置するのに最低限必要なことは終わりです。<BR>
サイト本体からリンクをはって使用してください♪</P>
</DIV>


<DIV class="section">
<H3 class="h">4．<A name="アイコンの設定方法">アイコンの設定方法</A></H3>
<P>Mireilleの設置テストが成功したらアイコンを設定しましょう。<BR>
例えばMireilleをhttp://www.server.jp/~username/mireille_directory/index.cgiに設置したとします。<BR>
<EM>www.server.jp</EM>は使っているプロバイダやレンタルサーバーのドメインに、<BR>
<EM>~username</EM>はそのサーバーでのユーザー名に、<BR>
<EM>mireille_directory</EM>は設置したMireilleのディレクトリに、<BR>
適宜置き換えてください。（独自ドメインの場合でユーザー名が必要ないときは省略すること）</P>
<P>実際の手順は以下の通りです。</P>

<DIV class="section">
<H4 class="h">アイコンフォルダの準備</H4>
<P>まず自分のコンピュータ上で、アイコンの入ったフォルダを作成します。<BR>
どこかに「icon」などと名づけたフォルダを作成し、<BR>
その中にアイコンとして使いたい画像ファイル（画像形式は何でもOK）を放り込みましょう。</P>
</DIV>

<DIV class="section">
<H4 class="h">アイコンフォルダのアップロード</H4>
<P>アイコンの入ったフォルダをアップロードします。<BR>
場所はどこでも構いませんが、「http://www.server.jp/~username/icon/」に置くのが無難でしょう。</P>
</DIV>

<DIV class="section">
<H4 class="h">管理CGIをアップロード</H4>
<P>自分のコンピュータ内で、エディタを使ってindex.cgiを編集してもよいのですが、<BR>
ここでは管理CGIを使ってindex.cgiを編集してみましょう。<BR>
（エディタで直接編集する方が楽な人は、管理CGIを使わなくてももちろんOKです）<BR>
<EM>manage.cgi</EM>をFTPクライアントで、Mireilleと同じディレクトリにアップロードしましょう。<BR>
このとき<STRONG class="warning">必ずmanage.cgiを他の人には予測のつかない名前に変えてください。</STRONG><BR>
管理CGIの管理機能は便利な反面、<STRONG class="warning">非常に危険</STRONG>です。</P>
<P>管理CGIについては<a href="#管理CGIの設置">管理CGIの設置</A>も参照してください</P>
</DIV>

<DIV class="section">
<H4 class="h">管理CGIでindex.cgiを編集する</H4>
<P>http://www.server.jp/~username/mireille_directory/管理CGI.cgi（「管理CGI」の部分は適宜置き換えてください）にアクセスしましょう。<BR>
「index.cgi編集」を選択して次へ進みます。<BR>
アイコンのディレクトリ」の項目を探し、アイコンフォルダの置いてある場所を書きましょう。<BR>
（この時、http://www.server.jp/~username/icon/ の最後の/を書き忘れないで下さい）<BR>
書けたら「OK」を押してください。</P>
</DIV>

<DIV class="section">
<H4 class="h">管理CGIでicon.txtを編集する</H4>
<P>「Iconリスト編集（タグ）」を選択して次へ進みます。<BR>
Mireilleの圧縮ファイルについてきたicon.txtをアップロードした場合、<BR>
大量にいろいろと書かれているので、とりあえず全て削除してしまいましょう。<BR>
そうしたら以下のように書き換えます。</P>
<PRE><CODE>&lt;OPTGROUP label=&quot;（グループのラベル、例えば「アイコン（モンスター）」とか）&quot;&gt;
&nbsp;&nbsp;&lt;OPTION value=&quot;（画像ファイルのパス、例えば「dragon.gif」）&quot;&gt;（画像の名前、例えば「ドラゴン」）&lt;/OPTION&gt;
&nbsp;&nbsp;&lt;OPTION value=&quot;（何とか.png）&quot;&gt;（「スライム」）&lt;/OPTION&gt;
&lt;/OPTGROUP&gt;</CODE></PRE>
<P>括弧内を自分の設定に合わせて書き換えて下さい。</P>
<P>ただし、ここでいくつか注意することがあります。</P>

<DIV class="section">
<H5 class="h">OPTION value のところに書く「画像ファイルの置いてある場所」</H5>
<P>「index.cgi編集」をしたときに指定した「アイコンディレクトリ」のパスと合わせて、<BR>
きちんと画像の在りかを示すURLになっていなくてはなりません。</P>
<P>例えば、アイコンディレクトリのパスが「http://www.A.or.jp/B/icon」で、<BR>
アイコンリストのvalueが「D.gif」となっていた場合、<BR>
<CODE>"http://www.A.or.jp/B/icon/" + "D.gif" = 「http://www.A.or.jp/B/icon/D.gif」</CODE><BR>
となり、このURLに画像ファイルがあればOKです。</P>
<P>もし、アイコンディレクトリのパスが「http://www.A.or.jp/B/icon」となっていた場合、<BR>
<CODE>"http://www.A.or.jp/B/icon" + "D.gif" = 「http://www.A.or.jp/B/iconD.gif」</CODE>となり、
おかしくなってしまいます。<BR>
この時はアイコンディレクトリのパスの末尾に / を加えるか、「D.gif」→「/D.gif」に変更すれば、正しくなります。</P>
</DIV>
<DIV class="section">
<H5 class="h">&lt;OPTION value=&quot;&quot;&gt;…&lt;/OPTION&gt;を２個以上続ける場合</H5>
<P>&lt;OPTION value=&quot;&quot;&gt;…&lt;/OPTION&gt;（注目）&lt;OPTION value=&quot;&quot;&gt;…&lt;/OPTION&gt;<BR>
とする場合（注目）の場所は続けず、改行を入れてください。<BR>
改行でないと、後でアイコンカタログ（アイコン見本/アイコン一覧）に表示されるアイコンがおかしくなったり、<BR>
管理CGIのタグモード以外でアイコンリストを編集できなくなったりします。</P>
</DIV>
<DIV class="section">
<H5 class="h">一つのグループに何個ものアイコンを使いたい場合</H5>
<P>&lt;OPTION value=&quot;（画像ファイルの場所）&quot;）&gt;（画像ファイルの名前）&lt;/OPTION&gt;
を必要な数だけ書けばいいです。<BR>
また、グループが何個も欲しいという場合は<BR>
<PRE><CODE>&lt;OPTGROUP label=&quot;（グループのラベル）&quot;&gt;
&nbsp;&nbsp;&lt;OPTION value=&quot;（画像ファイルの場所１）&quot;&gt;（画像ファイルの名前１）&lt;/OPTION&gt;
&nbsp;&nbsp;&lt;OPTION value=&quot;（画像ファイルの場所２）&quot;&gt;（画像ファイルの名前２）&lt;/OPTION&gt;
&lt;/OPTGROUP&gt;</CODE></PRE>
<P>の部分を欲しいグループの数の分だけ増やせばいいです。</P>
</DIV>
</DIV>
<P>COPY1命令やVENDOR命令など、より詳しいアイコンリストの説明は、<BR>
<A href="#アイコン">Mireilleの注意事項 - アイコン</A>を参照してください。</P>
<P>編集が終わったら、ＯＫを押して完了です。<BR>
最後に、管理CGIをWeb上から削除しましょう。<BR>
放置しておくと<STRONG class="warning">キケン</STRONG>です。</P>
<P>上の操作が上手くいったら、アイコンが無事表示されるはずです。<BR>
もし、表示されない場合は、ミスをチェックして、<BR>
どうしてもわからない場合は、ソフトウェア関係に詳しい友人に聞くか、成瀬に掲示板で聞いてください。<BR>
5時間も悩むのは得策ではありません（爆</P>
<P><STRONG class="warning">※警告！<BR>
アイコンの著作権には十分注意を払ってください。<BR>
ゲームの画像を切り出して使ったり、Webサイトで使われている画像を勝手に拾ってきた場合、<BR>
著作者の権利を侵害してしまうことがあります。</STRONG></P>
</DIV>


<DIV class="section">
<H3 class="h">5. <A name="もうちょっと細かく設定とか、さらには改造とか">もうちょっと細かく設定とか、さらには改造とか</A></H3>
<P>Mireilleをより細かくカスタマイズしたいときは、Mireille.txtの内容も参照してください。<BR>
Mireilleでの処理に関する情報などはMireille.txtにしか書いてないものも多いです。</P>
<P>一般的な事例に関しては以下のとおりです。</P>

<DIV class="section">
<H4 class="h">アイコンまわり</H4>
<P>アイコンリスト(icon.txt)に関しては <A href="#アイコン">Mireilleの注意事項 - アイコン</A> や、<BR>
Mireille.txtを参照してください。<BR>
アイコンリスト(icon.txt)からアイコン見本(icon.html)を生成するには、<BR>
管理CGIの「アイコン見本の更新」を使います。<BR>
（1.2.3.5からはiconctlg.cgiを使うようになったので、icon.htmlを生成する必要はありません）</P>
<P><STRONG class="warning">※警告！</STRONG><BR>
アイコンを調達する際には、必ず製作者のサイトから頂いてきてください。<BR>
他の掲示板のアイコンをそのまま拝借するのは好ましいことではありませんし、<BR>
その掲示板の管理者さんにも迷惑をかけることになります。<BR>
また欲しいアイコンが既に配布が終了されている場合は潔くあきらめてください＾＾；；</P>
</DIV>

<DIV class="section">
<H4 class="h">外部CSSまわり</H4>
<P>core.cgi,style.pl自体のソースや、Mireilleの生成したHTMLソース、HTMLおよびCSSのリファレンスなどと、<BR>
にらめっこしながらがんばってください（ぉ<BR>
core.cgiやstyle.plのCSSのクラス構造が不明瞭だったりおかしい、修正するべきだという場合は、<BR>
説明を求めるか、改善したものを教えてください。<BR>
それを元にこちら側でも修正します。</P>
</DIV>

<DIV class="section">
<H4 class="h">style.plってなに</H4>
<P>MireilleのPerlスクリプトの中で、デザインに関連するものを抽出したファイルです。<BR>
お好みに合わせて改造し、配布することができます。<BR>
また、index.cgi内でcore.cgiより後に読み込んでいるため、<BR>
core.cgiのサブルーチンを上書き（オーバーライド）することも可能なため、<BR>
応用次第で全く違う掲示板のようににしてしまうこともできます。</P>
</DIV>

<DIV class="section">
<H4 class="h">index.cgi後半の処理部、core.cgi、help.pl、manage.cgiなど</H4>
<P>改造するのは自由ですし、規定の範囲内で改造したものを配布することもできます。<BR>
ただ、多くの利用者がこれらのCGIを変更したいと思う、という状態は、<BR>
「バグだ」と判断しているので、変更点を教えてくだされば、標準で変更するかもしれません。</P>
</DIV>

<DIV class="section">
<H4 class="h"><A name="Mireilleのコアファイル群を複数の掲示板で共有する">Mireilleのコアファイル群を複数の掲示板で共有する</A></H4>
<P>一つのcore.cgi, style.pl, style.css, help.pl, artnavi.jsを複数の掲示板で共有することが出来ます。</P>
<TABLE summary="複数設置時の横着の仕方">
	<THEAD>
	<TR><TH scope="row">パス</TH><TH scope="row">属性</TH><TH scope="row">用途</TH></TR>
	</THEAD>
	<TBODY>
	<TR><TH scope="col">/bbs</TH>			<TD>755(777)</TD><TD>掲示板のディレクトリ</TD></TR>
	<TR><TH scope="col">/bbs/log</TH>		<TD>755(777)</TD><TD>ログ保存ディレクトリ</TD></TR>
	<TR><TH scope="col">/bbs/log/0.cgi</TH> <TD>666</TD><TD>記事情報ファイル</TD></TR>
	<TR><TH scope="col">/bbs/index.cgi</TH> <TD>755(700)</TD><TD>CGI起動ファイル兼設定</TD></TR>
	<TR><TH scope="col">/bbs/core.cgi</TH>	<TD>644</TD><TD>Mireille本体</TD></TR>
	<TR><TH scope="col">/bbs/style.pl</TH>	<TD>644</TD><TD>Mireilleスタイル設定</TD></TR>
	<TR><TH scope="col">/bbs/artnavi.js</TH><TD>644</TD><TD>記事ナビ</TD></TR>
	<TR><TH scope="col">/bbs/icon.txt</TH>	<TD>666</TD><TD>アイコンリスト</TD></TR>
	<TR><TH scope="col">/bbs/iconctlg.cgi</TH> <TD>666</TD><TD>アイコン見本</TD></TR>
	<TR><TH scope="col">/bbs/help.pl</TH>	<TD>644</TD><TD>ヘルプ</TD></TR>
	<TR><TH scope="col">/bbs/style.css</TH> <TD>666</TD><TD>スタイルシート</TD></TR>
	</TBODY>
	<TBODY>
	<TR><TH scope="col">/bbs2</TH>			<TD>755(777)</TD><TD>掲示板のディレクトリ</TD></TR>
	<TR><TH scope="col">/bbs2/log</TH>		<TD>755(777)</TD><TD>ログ保存ディレクトリ</TD></TR>
	<TR><TH scope="col">/bbs2/log/0.cgi</TH><TD>666</TD>			<TD>記事情報ファイル</TD></TR>
	<TR><TH scope="col">/bbs2/index.cgi</TH><TD>755(700)</TD><TD>CGI起動ファイル兼設定</TD></TR>
	</TBODY>
</TABLE>
<P>例えば上のように設置した上で、/bbs2/index.cgi内の設定を</P>
<PRE><CODE>use lib '../bbs/';
#アイコンリスト
$CF{'icls'}='../bbs/icon.txt';
#スタイルシート
$CF{'style'}='../bbs/style.css';
#記事ナビJavaScript
$CF{'navjs'}='../bbs/artnavi.js';
</CODE></PRE>
<P>などとすれば、CGIバージョンアップ時には/bbs/にあるcore.cgiなどを入れ替えればいいだけになります。<BR>
実際にAiremixでも/bbs/にあるCGIをサイト内の何ヶ所かで、この方法によって共有して使っています。</P>
</DIV>
</DIV>


<DIV class="section">
<H3 class="h">6. <A name="管理CGIの設置">管理CGIの設置</A></H3>
<P>よりMireilleを有効に使うためのCGI、Manage.cgiの説明です。<BR>
必須ではないので、使いたい人だけ設置しましょう。</P>
<P>まずmanage.cgiを開いて、一行目を設定します。<BR>
その後21行目の$AM{'pass'}を設定してください。<BR>
設定したらFTPで以下のように設置します。<BR>
この際<STRONG class="warning">必ずファイル名を変更してアップロード</STRONG>してください。</P>
<PRE>/bbs/E36Vj4tGiHQ.cgi 755(700) 管理CGI（'E36Vj4tGiHQ.cgi'にファイル名を変更した場合）</PRE>
<P>使用法は表示にしたがってください。<BR>
わかりにくいところがあれば、言ってください。<BR>
表記を変えるなり、これに書き加えるなりします。</P>
<P>ちなみに、管理CGIの設定機能を使っていて「<SAMP>Can't write...</SAMP>」というエラーが出た場合は、<BR>
該当するファイルのパーミッションを、上のほうの説明の、括弧内のものに変えみてください。<BR>
ちゃんと書き込めれば設定があっていると断定してよいでしょう。</P>
<P><STRONG class="warning">※警告！<BR>
アップロードする際には、ファイルの名前を予測のつかない名前、<BR>
（例えばE36Vj4tGiHQ.cgiのような）に変更してからアップロードしてください。<BR>
このCGIは破壊的な機能（index.cgiの設定やログの削除など）持っているので、<BR>
悪意を持った人に場所を知られると非常に危険です。</STRONG></P>
<P>ちなみに、ファイル名を変えると動かなくなるのではないか、と思う方もいるでしょうが、<BR>
管理CGIはファイル名を変えても大丈夫なように作っているので、ご安心ください。</P>
</DIV>
</DIV>



<DIV class="section">
<H2 class="h">◇<A name="設置の説明書">設置した後の運用</A></H2>


<DIV class="section">
<H3 class="h"><A name="Mireilleをバージョンアップする時">Mireilleをバージョンアップする時</A></H3>
<P>基本的には、core.cgi, style.pl, artnavi.js, iconctlg.cgiを上書きすればOKです。</P>
<P>style.cssを自分で改造していないのなら、style.cssも上書きした方が良いですが、<BR>
style.cssは多少古いものでも動作するように作ってあるので、上書きしなくても大丈夫です。<BR>
ただ、style.cssの変更はブラウザの表示をより綺麗にするため、のものが多いので、<BR>
OperaやMozillaを使う人が多い掲示板では、まめにstyle.cssをバージョンアップした方がよいかもしれません。<BR>
また、style.cssを改造している方も、時々は新しいバージョンをベースに、style.cssを改造しなおした方がよいとは思います。</P>
<P>index.cgiは後方互換性に気を使っているので、かなり古いものでも動作するはずです。<BR>
確認した限りでは1.2.2.8以降のindex.cgiなら、それ以降に追加された新機能はつかえませんが、とりあえず動作はします。</P>
<P>もしindex.cgiやstyle.cssに、それまでのバージョンと著しく互換性を損なう変更場行われた時は、<BR>
Mireille.txtの更新履歴の部分にそのことが書かれるので、対応策はそこを参照してください。<BR>
特別に注意することが書いてない場合は、互換性があると考えてよいです。</P>
<P>バージョンアップについては以上の通りですが、上の説明はindex.cgiとstyle.css以外は改造していない場合の話です。<BR>
core.cgiやstyle.plなどに手を入れている場合は、現在考慮に入れてません。<BR>
もしindex.cgiとstyle.css以外を改造している方は名乗り出てくだされば、考慮して開発するようにします。</P>
</DIV>


<DIV class="section">
<H3 class="h"><A name="過去ログの扱い">過去ログの扱い</A></H3>
<P>Mireilleでは過去ログを圧縮して保存するようにしているので、ファイルスペースへの負担は比較的軽いのですが、<BR>
それでも長い間ほったらかしにしていると、思わぬサイズになってしまうことがあります。<BR>
なので、定期的に整理するようにしましょう。（過去ログが100ファイルを超えたら、くらいかな）</P>
<P>整理するには二通りあるかと思います。<BR>
未練を残さず削除してしまうのと、ローカルにダウンロードした上でサーバー上のファイルを削除するのと、になるのですが、<BR>
後者ではダウンロード時に注意すべき点が一点あります。</P>
<P>Mireilleでは、1.cgiをGZIP圧縮で削除した場合、「1.cgi-(GZIP圧縮)→1.gz」とした後に、<BR>
このままだと管理者以外でも過去ログをダウンロードできてしまうため、「1.gz-(ファイル名変更)→1.gz.cgi」とします。<BR>
.htaccessのようにlogディレクトリからのダウンロードを不許可にできれば、こんな小細工も必要ないのですが、<BR>
色々なサーバーで動くようにすると、.htaccessに頼りきりになるわけにも行かないため、このような仕様になっています。</P>
<P>で、このファイル名変更処理は所詮小手先の業なため副作用が出ます。<BR>
Windows向けFTPソフトにはファイルの転送モードが「テキスト/ASCIIモード」と「バイナリモードが」あります。<BR>
二つの違いは、ASCIIモードだとファイル転送時に<CODE>s/\x0a/\x0d\x0a/g</CODE>し、バイナリモードではしません。</P>
<P class="note">テキストファイルとは文字情報を保存しているファイル。<BR>
バイナリファイルは絵や音、プログラムなどのファイル。<BR>
テキストファイルでは、OSごとに改行文字が異なるため、改行文字を変換する必要があります。</P>
<P>で、ちょっと気の利いたFTPソフトは、ファイルの拡張子によってこの転送モードを自動的に切り替えてくれるのです。<BR>
拡張子cgiは普通テキストなので、「ASCIIモード」でファイル転送が行われます。<BR>
1.gz.cgiはGZIP圧縮しているので実はバイナリファイルなのに・・・<BR>
「ASCIIモード」で転送された1.gz.cgiは、哀れ、トンチンカンな改行処理をくらって、ファイルが破壊されます。</P>
<P>で、対策ですが簡単です。ダウンロード前に1.gzに戻してダウンロードすれば、<BR>
FTPソフトはgzはバイナリファイルだと知っているので、破壊されることはないです。<BR>
（転送モードの自動判定をOFFにして、バイナリモードを強制して、ダウンロードしてもOKです。)</P>
</DIV>


<DIV class="section">
<H3 class="h"><A name="荒らしが来たら">荒らしが来たら</A></H3>
<P>「荒らしになりそうな人にはサイトのURLを教えない」、「荒らされそうなコンテンツを扱わない」、<BR>
といった事前策があるのですが、来てしまったものは仕方がありません。<BR>
早速撃退策を練りましょう。</P>
<P>心に余裕のある方だったら、荒らしをからかって暇つぶし、飽きたらポイ捨て、というのも趣があり、おもしろいのですが、<BR>
みながそんな気分なはずもないので、まじめにいきます。<BR>
世の荒らし対策ページ、というので紹介される対策は、主に以下の三種類でしょう。<P>
<OL>
<LI>荒されても無視しよう</LI>
<LI>荒らし対策BBSを導入しよう</LI>
<LI>荒らした人のIPをみて追跡しよう</LI>
</OL>
<P>一つ目は定石中の定石、基本中の基本です。<BR>
世の荒らしの8割以上は愉快犯という統計もある（ほんとか？）通り、荒らしはおもしろくなければ止みます。<BR>
なので「荒らしている人のことを罵倒しよう」というのは、荒らしを止めさせたいのであれば絶対にやってはいけません。<BR>
（逆に暇ならちゃんと相手をしてあげないとダメです。）</P>
<P>二つ目も定石といえば定石なのですが、今となってはあまり効果がないように思えます。<BR>
荒らし対策BBSの「荒らし対策」とは機械化された自動の荒らしを指すことが多く、自動化荒らしへの対策がなされています。<BR>
しかし、今時の技術的レベルの低い荒らしには逆に無力です。<BR>
「騙り（他の人の名前を偽って発言し、場を混乱させること）」への対策として導入された「トリップ」機能は、<BR>
ある程度有効かもしれませんが、荒らし対策BBSで今時の荒らしを止めさせることは困難だと思われます。</P>
<P>三つ目は確実ではありますが、高い技術を持っていないとできませんし、Proxyを使える人相手では技術戦になりがちですが、<BR>
時によっては一発で荒らしに止めをさせるので確実です。<BR>
具体的な手法についてはgoogleで「荒らし対策」「追跡」などのキーワードで検索してください。</P>
<P>とは言っても、やはり自分で荒らしのISPを突き止めるのは大変です。<BR>
大手プロバイダの「ホームページスペース」を使っていたり、一部の有料レンタルサーバーを使っているなどで、<BR>
サーバーが面倒のいいところの場合は、サーバーに泣きつくのも一つの手段です。<BR>
基本的に大手はスペースの値段が割高なのですが、それはこういうときのサポートのために割高になっているのだ、<BR>
と自分勝手な解釈をして助けを求めれば、それなりの対応をとってくれるかもしれません。<BR>
その際は荒らされたログをとっておき、見せることを忘れずに。<BR>
こちら側のプロバイダが、荒らし側のプロバイダを責めるときに、荒らされたログが必要ですので、必ずとっておきましょう。</P>
<P>また、自分の側のサーバーが頼りない時でも、荒らされ方によっては、他を頼ることができます。<BR>
荒らしの文言に「殺してやる」とかそれに類する言葉があった場合、脅迫として警察に駆け込めるかもしれません。<BR>
一昔前では「民事不介入」などとのたまうばかりで頼りにならなかったようですが、<BR>
近頃は何件か「脅迫として逮捕した」と報道もされているなので、結構頼りになるようです。<BR>
この場合でもログが絶対に必要です。</P>
<P>荒らされることと、それに打ち勝つことはは、有名ページへと上り詰めるためには必要不可欠なステップです。<BR>
Webの星を目指すため、重いコンダラをひきひき、試練の道を行って、ど根性を見せてください。（謎</P>
</DIV>
</DIV>



<DIV class="section">
<H2 class="h">◇<A name="Mireilleの注意事項">Mireilleの注意事項</A></H2>


<DIV class="section">
<H3 class="h"><A name="漢字コード">漢字コード</A></H3>
<P>Mireilleは、このMireille.txtとそのほか一部のファイルを除いて全て、<BR>
EUC-JPという漢字コードで書かれています。<BR>
そのため、メモ帳を筆頭とする、EUC-JP非対応のエディタでは編集することが出来ません。<BR>
EUC-JP対応のエディタをご使用ください以下は推奨するエディタです。<BR>
TeraPad
<A href="http://www2s.biglobe.ne.jp/~t-susumu/toclip/">http://www2s.biglobe.ne.jp/~t-susumu/toclip/</A><BR>
秀丸エディタ
<A href="http://hidemaru.xaxon.co.jp/">http://hidemaru.xaxon.co.jp/</A><BR>
さくらエディタ
<A href="http://sakura-editor.sourceforge.net/">http://sakura-editor.sourceforge.net/</A><BR>
他にもEmEditorやWZEdiotrなどが対応しています。<BR>
特に本格的にやるならば、色分けをしてくれるエディタだと格段に、<BR>
効率が上がり、かつミスも減ると思います。</P>
<P>ちなみに成瀬は2001年中ごろから、
<A href="http://www2.noritz.co.jp/anchor/">アンカーシステムズ株式会社</A>のPeggyProを使っています。<BR>
Perl言語の色付けの精度では、トップクラスの正確さでしょう。<BR>
PeggyProは有料ですが、PeggyPadは無料です。</P>
<P>他にも<A href="http://www.airemix.com/info/">Airemix/info.</A>からいろいろなテキストエディタの配布サイトへ飛ぶことができます。</P>
</DIV>


<DIV class="section">
<H3 class="h"><A name="アイコン">アイコン</A></H3>

<DIV class="section">
<H4 class="h">アイコンリスト</H4>
<P>基本的にはOPTGROUP要素とOPTION要素をあわせて使うことをお勧めします。<BR>
具体的な形式としては、</P>
<PRE><CODE>&lt;OPTGROUP label=&quot;グループ１&quot;&gt;
&ensp;&lt;OPTION value=&quot;11.png&quot;&gt;アイコン1&lt;/option&gt;
&ensp;&lt;OPTION value=&quot;12.png&quot;&gt;アイコン2&lt;/option&gt;
&lt;/OPTGROUP&gt;
&lt;OPTGROUP label=&quot;グループ二&quot;&gt;
&ensp;&lt;OPTION value=&quot;21.png&quot;&gt;アイコン一&lt;/option&gt;
&ensp;&lt;OPTION value=&quot;22.png&quot;&gt;アイコン二&lt;/option&gt;
&lt;/OPTGROUP&gt;
&lt;OPTION value=&quot;1.png&quot;&gt;アイコン壱&lt;/option&gt;
&lt;OPTION value=&quot;2.png&quot;&gt;アイコン弐&lt;/option&gt;</CODE></PRE>
<P>のような形になります。</P>
<P>OPTGOUPタグ外のOPTIONは全体の末尾に存在しないといけません。<BR>
できればこうするよりも、OPTGROUPに属さないようなOPTIONは、<BR>
グループ名を「その他」などにして、何らかの形でOPTROUPタグ内に入れてしまったほうがいいです。<BR>
（具体的に言えば、icon.txtの内容が丸ごとSELECTタグの中身となります）</P>
<P>ちなみにOPTGROUP要素はHTML4で新しく追加された要素で、<BR>
InternetExplorer6forWindows、InternetExplorer5forMacintosh、Netscape6、Mozilla、Opera7などが対応しています。<BR>
これら以外では無視されますが、見易さ・分類のしやすさをを考慮すると、<BR>
今のうちからつけておいたほうがいいと思います。<BR>
ちなみに、OPTGROUPはHTML4の規格上入れ子にできないようになっています。</P>
</DIV>

<DIV class="section">
<H4 class="h">index.cgiのアイコンディレクトリの設定とアイコンリストの使い分け</H4>
<P>例えば、<CODE>http://www.airemix.com/</CODE>の下に、設置し、<BR>
FTPサーバーでのディレクトリの構造が、</P>
<TABLE summary="アイコンのURL">
	<THEAD>
	<TR><TH scope="col">パス</TH><TH scope="col">属性</TH><TH scope="col">用途</TH></TR>
	</THEAD>
	<TBODY>
	<TR><TH scope="col">/</TH>				<TD>755</TD><TD>FTPのルートディレクトリ</TD></TR>
	<TR><TH scope="col">/public_html/</TH>	<TD>755</TD><TD>FTPのHTTPに公開するルート</TD></TR>
	<TR><TH scope="col">/public_html/icon/</TH><TD>755</TD><TD>アイコンディレクトリ</TD></TR>
	<TR><TH scope="col">/public_html/icon/hoe/icon1.png</TH><TD>644</TD><TD>アイコン1</TD></TR>
	<TR><TH scope="col">/public_html/icon/hoe/icon2.png</TH><TD>644</TD><TD>アイコン2</TD></TR>
	<TR><TH scope="col">/public_html/icon/icon3.png</TH><TD>644</TD><TD>アイコン3</TD></TR>
	</TBODY>
	<TBODY>
	<TR><TH scope="col">/public_html/bbs</TH><TD>777(755)</TD><TD>掲示板のディレクトリ</TD></TR>
	<TR><TH scope="col">/public_html/bbs/index.cgi</TH><TD>755(700)</TD><TD>CGI起動ファイル兼設定</TD></TR>
	<TR><TH scope="col">/public_html/bbs/icon.txt</TH><TD>666</TD><TD>アイコンリスト</TD></TR>
	<TR><TH scope="col">/public_html/bbs/icon.html</TH><TD>666</TD><TD>アイコン見本</TD></TR>
	</TBODY>
</TABLE>
<P>のような状態になっている時（掲示板のほかのファイルは省略）には、</P>
<UL>
	<LI>アイコンディレクトリにHTTP相対パス<BR>
	アイコンディレクトリは <CODE>$CF{'icon'}='../icon/';</CODE> とし、<BR>
	icon.txtでは <CODE>&lt;OPTION value="hoe/icon1.png"&gt;</CODE> などとする<BR>
	→ アイコンは <CODE>&lt;IMG src="../icon/hoe/icon1.png"&gt;</CODE> になる</LI>
	<LI>アイコンディレクトリにHTTPサーバー内絶対パス<BR>
	アイコンディレクトリは <CODE>$CF{'icon'}='/icon/';</CODE> とし、<BR>
	icon.txtでは <CODE>&lt;OPTION value="hoe/icon1.png"&gt;</CODE> などとする<BR>
	→ アイコンは <CODE>&lt;IMG src="/icon/hoe/icon1.png"&gt;</CODE> になる</LI>
	<LI>アイコンディレクトリにHTTP絶対パス<BR>
	アイコンディレクトリは <CODE>$CF{'icon'}='http://www.airemix.com/icon/';</CODE> とし、<BR>
	icon.txtでは <CODE>&lt;OPTION value="hoe/icon1.png"&gt;</CODE> などとする<BR>
	→ アイコンは <CODE>&lt;IMG src="http://www.airemix.com/icon/hoe/icon1.png"&gt;</CODE> になる</LI>
	<LI>アイコンリストだけでHTTP相対パス<BR>
	アイコンディレクトリは <CODE>$CF{'icon'}='';</CODE> とし、<BR>
	icon.txtでは <CODE>&lt;OPTION value="../icon/hoe/icon1.png"&gt;</CODE> などとする<BR>
	→ アイコンは <CODE>&lt;IMG src="../icon/hoe/icon1.png"&gt;</CODE> になる</LI>
	<LI>アイコンリストだけでHTTPサーバー内絶対パス<BR>
	アイコンディレクトリは <CODE>$CF{'icon'}='';</CODE> とし、<BR>
	icon.txtでは <CODE>&lt;OPTION value="/icon/hoe/icon1.png"&gt;</CODE> などとする<BR>
	→ アイコンは <CODE>&lt;IMG src="/icon/hoe/icon1.png"&gt;</CODE> になる</LI>
	<LI>アイコンリストだけでHTTP絶対パス<BR>
	アイコンディレクトリは <CODE>$CF{'icon'}='';</CODE> とし、<BR>
	icon.txtでは <CODE>&lt;OPTION value="http://www.airemix.com/icon/hoe/icon1.png"&gt;</CODE> などとする<BR>
	→ アイコンは <CODE>&lt;IMG src="http://www.airemix.com/icon/hoe/icon1.png"&gt;</CODE> になる</LI>
</UL>
<P>のような指定の仕方があります。</P>
<P>結局は、「アイコンディレクトリの指定＋アイコンリストの指定」→きちんとした「相対/絶対URL」<BR>
となっていればいいわけです。</P>
<P>この理由から、<BR>
アイコンディレクトリを<CODE>$CF{'icon'}='../icon/';</CODE>とし、<BR>
icon.txtを<CODE>&lt;OPTION value="/hoe/icon1.png"&gt;</CODE>などとする場合は、<BR>
足すと<CODE>&lt;IMG src="../icon//hoe/icon1.png"&gt;</CODE>となってしまい、おかしいわけです。</P>
</DIV>

<DIV class="section">
<H4 class="h">アイコンリストの著作権表示機構</H4>
<P>Mireilleのアイコンリスト形式は、基本的にはOPTGROUPとOPTIONを使って、SELECTタグの中身を書く、<BR>
といったものですが、HTMLのコメントを使って拡張情報を埋め込むことができます。<BR>
この項ではその拡張情報の一つ、著作権表示機構を説明します。<BR>
<P>著作権表示機構用の拡張命令には、一次著作権者を指定するためのCOPY1と、製作者を指定するVENDORがあります。<BR>
一次著作権者はアイコンに使われている画像のそもそものオリジナルを書いた人または団体であり、<BR>
製作者はそのアイコンを配布している人または団体です。</P>
<P>例えば、成瀬がDRAGON QUESTのスライムをアイコンにして配布していたとします。<BR>
その場合、一次著作権者(COPY1)はDRAGON QUESTの発売元であるENIXになり、<BR>
製作者(VENDOR)は成瀬になります。</P>
<P>さて、COPY1命令とVENDOR命令にはNAME,URL,LNKというオプションがあります。<BR>
NAMEではCOPY1やVENDORの名前を、URLではサイトのURLを指定します。<BR>
LINKについてはここでは省略します。</P>
<P>さて、実際に使ってみましょう。</P>
<PRE><CODE>&lt;!-- %BEGIN_VENDOR --&gt; <STRONG class="s2f2f">#VENDOR設定を始める</STRONG>
&lt;!-- %VENDOR_NAME 成瀬 --&gt; <STRONG class="s2f2f">#VENDORの名前は「成瀬」</STRONG>

&lt;!-- %BEGIN_COPY1 --&gt; <STRONG class="s2f2f">#COPY1設定を始める</STRONG>
&lt;!-- %COPY1_NAME ENIX --&gt; <STRONG class="s2f2f">#COPY1の名前は「ENIX」</STRONG>
&lt;!-- %COPY1_URL http://www.enix.co.jp/ --&gt; <STRONG class="s2f2f">ENIXのURLは「http://www.enix.co.jp/」</STRONG>

&lt;OPTGROUP label=&quot;DRAGON QUEST&quot;&gt; <STRONG class="s2f2f">アイコングループ「DRAGON QUEST」開始</STRONG>
&nbsp;&nbsp;&lt;OPTION value=&quot;dq/suraimu.png&quot;&gt;スライム&lt;/OPTION&gt; <STRONG class="s2f2f">スライムのアイコン</STRONG>
&lt;/OPTGROUP&gt; <STRONG class="s2f2f">アイコングループ終了</STRONG>
&lt;!-- %END_COPY1 --&gt; <STRONG class="s2f2f">COPY1設定の終了</STRONG>
&lt;!-- %END_VENDOR --&gt; <STRONG class="s2f2f">VENDOR設定の終了</STRONG></CODE></PRE>
<P>以上のような具合になります。</P>
<P>HTMLでいうと、BEGIN_VENDORが開始タグ、END_VENDORが終了タグにあたる、と言えばわかりやすいかもしれません。</P>
<P>上の例の%BEGIN_COPY1との二行に注目してください、ここは以下のように一行で書き換えることができます。</P>
<PRE><CODE>&lt;!-- %BEGIN_COPY1 ENIX --&gt; <STRONG class="s2f2f">#COPY1の設定を始める、COPY1の名前は「ENIX」</STRONG></CODE></PRE>
<P>このような省略記法を使うと、多少アイコンリストが見やすくなるかもしれません。</P>
</DIV>

<DIV class="section">
<H4 class="h">アイコンの最大数</H4>
<P>理論上は無限になっています。<BR>
ただ、CGI処理の負荷やHTTP転送の負荷を考えると、<BR>
ほどほどの数にしておいたほうがいいかもしれません。<BR>
わたしの側ではアイコン数800でそこそこのスピードで動作することを確認しています。<BR>
アイコン見本(icon.html)を見る時は一度に全てのアイコンを表示させる、ということも留意する必要があるでしょう。</P>
</DIV>

<DIV class="section">
<H4 class="h">専用アイコン</H4>
<P>管理CGIの「CONFIG設定」で設定できます。<BR>
または、<BR>
<CODE>$CF{'cmic'}='1';</CODE><BR>
としたうえで直接設定ファイルを編集しても設定可能です。</P>
<P>設定の形式は</P>
<PRE><CODE>$IC{'hae'}='mae.png'; #苗
$IC{'hie'}='mie.png'; #贄
$IC{'hue'}='mue.png'; #鵺
$IC{'hee'}='mee.png'; #姐
$IC{'hoe'}='moe.png'; #乃絵</CODE></PRE>
<P>このようになっています。<BR>
実際に使う場合は「コマンド」欄を使用します。</P>
<P>上の例のように設定されているとすると、
コマンド欄に「icon=hoe」と入力すればアイコンに&quot;moe.png&quot;が設定されます。<BR>
注意：アイコンパスワードには <CODE>=</CODE> や <CODE>;</CODE> は使用できません。<BR>
なるべくアイコンパスワードは <CODE>[-_a-zA-Z0-9]</CODE> な文字で構成されているほうがいいと思います。</P>
</DIV>
</DIV>


<DIV class="section">
<H3 class="h"><A name="意味の混同しやすい語の定義">意味の混同しやすい語の定義</A></H3>
<P>Mireilleやその説明で意味がわかりにくいと思われる語の解説です。<BR>
基本的に以下のように表記しているはずです。</P>
<DL class="section">
	<DT><DFN>記事情報ファイル</DFN> ArticleInformationFile, ZeroFile</DT>
	<DD>
	ログ管理ファイルなどとも言っていて、0.cgiのことです。<BR>
	このファイルに最終投稿者の情報や「最終投稿日時順」の情報を保存しているので、<BR>
	利用中の0.cgiが破損してしまうと大変です。<BR>
	といっても、Rev:1.2.0.7以降の管理CGIには「記事情報ファイル回復」がついているので、<BR>
	これでほどほどに復旧することができます。<BR>
	（今までに投稿されたスレッドの並び順が記事番号順になってしまうけど）<BR>
	（最近のMireilleだと適当に自動復旧します）
	</DD>
	<DT><DFN>記事スレッド</DFN> ArticleThread</DT>
	<DD>
	親記事と子記事を含めた一つのスレッド全体を指します。<BR>
	「記事」とは別の意味で使っているので注意してください。
	</DD>
	<DT><DFN>記事スレッドファイル</DFN> ArticleThreadFile</DT>
	<DD>
	記事スレッドを保存しているファイルのことです。<BR>
	一つの記事スレッドに対して、一つの記事スレッドファイルが対応します。<BR>
	例えば記事スレッド番号が123だったら、123.cgiが対応する記事スレッドファイルです。
	</DD>
	<DT><DFN>親記事</DFN> ParentArticle</DT>
	<DD>
	スレッド内記事番号0、新規投稿で投稿された記事のことです。
	</DD>
	<DT><DFN>子記事</DFN> ChildArticle, Response, Follow-up, Reply</DT>
	<DD>
	返信として投稿された記事で、「返信」や「レス記事」と同じ意味です。<BR>
	スレッド内記事番号が1,2,3,・・のものです。
	</DD>
	<DT><DFN>記事</DFN> Article</DT>
	<DD>
	単独で「記事」といったら、前述の親記事や子記事の一つのことです。<BR>
	「投稿」という言葉を使ったりもしています。
	</DD>
	<DT><DFN>専用アイコン</DFN> ExclusiveIcon</DT>
	<DD>
	普通にSELECTで選べないアイコンのことで、アイコンパスワードを入力することで使うことができます。<BR>
	パスワードなどで利用できる人を制限、多くの場合個人に対し専用とするので、<BR>
	「専用アイコン」という語を用いています。<BR>
	<SAMP>専用＝管理人専用</SAMP><BR>
	が必ずしも成り立つわけではありませんので、念のため。<BR>
	PrivateでなくExclusiveを使っているのも必ずしも個人では無いからです。
	</DD>
	<DT><DFN>ログ</DFN> Log</DT>
	<DD>
	漠然と、今までに投稿された記事の集合、という形で使っています。<BR>
	「ログファイル」は「記事スレッドファイル」と同じ意味で、1.cgiや59.cgiのことです。
	</DD>
	<DT><DFN>フォルダ</DFN> Folder / <DFN>ディレクトリ</DFN> Directory</DT>
	<DD>
	フォルダはWindows用語、ディレクトリはUNIX用語というだけで、実際にあらわす意味はほぼ同じ物です。<BR>
	この説明書では「フォルダ」と言ったら設置者のコンピュータでのフォルダ、<BR>
	ディレクトリといったらサーバー上のディレクトリを指します。
	</DD>
	<DT><DFN>アイコンリスト</DFN> IconList</DT>
	<DD>
	icon.txtのことです。<BR>
	「アイコン一覧」を英語にすれば「アイコンリスト」になりそうですが、<BR>
	これはアイコン見本の意味で使っていることがことが多いのです、まぎらわしいですね。
	</DD>
	<DT><DFN>アイコンカタログ・アイコン見本</DFN> IconSample, IconCatalog</DT>
	<DD>
	iconctlg.cgiが生成するHTMLやicon.htmlのことです。<BR>
	アイコンリストと紛らわしいので言わない様にしているつもりなのですが、「アイコン一覧」も同じ意味です。
	</DD>
	<DT><DFN>アイコンプレビュー</DFN> IconPreview</DT>
	<DD>
	投稿フォームにある、使うアイコンをJavaScriptによって前もって見れる機能の事です。<BR>
	ARTEMISさんの掲示板を参考にして取り付けました。
	</DD>
	<DT><DFN>パス</DFN> PATH</DT>
	<DD>主にファイルの場所を指定する際に用いますが、パスには二つの種類が存在します。</DD>
	<DD>一つはコンピュータ内のパスで、自分のコンピュータ内のファイルを指定するときや、サーバー上のCGIが直接ファイルを読み込む場合に使います。</DD>
	<DD>もう一つがInternet上でのパスです。<BR>
	これはブラウザで読み込むWebページを指定したり、HTMLからIMGタグやLINKタグを使って、画像ファイルやCSSファイルを読み込む際に用います。</DD>
	<DD>普段はこの二つを別々に意識する必要はありませんが、<A href="#Mireilleのコアファイル群を複数の掲示板で共有する">Mireilleのコアファイル群を複数の掲示板で共有する</A>場合には、<BR>
	この二つの違いを意識してindex.cgiを設定する必要があります。</DD>
</DL>
<P>とりあえずこのような感じでしょうか<BR>
他にも意味の明確でない語があれば、掲示板でおっしゃってくださいまし、追加します。</P>
</DIV>
</DIV>



<DIV class="section">
<H2 class="h">◇<A name="Mireilleの設置でつまづいたら">Mireilleの設置でつまづいたら</A></H2>


<DIV class="section">
<H3 class="h"><A name="動かない！とき">動かない！とき</A></H3>

<DIV class="section">
<H4 class="h">「500 Internal Server Error」と表示される場合</H4>
<DL>
<DT>パーミッションが正しくない</DT>
<DD>FTPからアップロード」に書いたパーミッションは一般的な場合で、<BR>
場所によってはこれで動かない場合があります。<BR>
プロバイダーやレンタルサーバー側から、CGIのパーミッションを○○にすること、<BR>
と言われている場合はそれに従ってください。<BR>
ちなみに「500」か、「Mireille Error Screen」で「write/read error」が出る場合以外のエラーでは、<BR>
まずパーミッションが原因の可能性はありません。</DD>
<DT>アップロードの失敗によるファイルの破損</DT>
<DD>アップロード時にファイルの一部が欠損したかもしれません。<BR>
アップロードしなおしてみてください。</DD>
<DT>「最初の一行」が正しくない</DT>
<DD>いわゆる「最初の一行」が正しくない可能性があります。<BR>
とりあえず<CODE>#!/usr/local/bin/perl</CODE>と<CODE>#!/usr/bin/perl</CODE>を両方試してみて、<BR>
だめだった場合は、プロバイダーやレンタルサーバーに聞いてみてください。</DD>
</DL>
</DIV>

<DIV class="section">
<H4 class="h">「Mireille Error Screen」が表示される場合</H4>
<P>・・・そのエラースクリーンに表示される情報を参照してください。</P>
<P>もともと成瀬がサポートするときのためにつけたものなので説明が不親切な場合があり、<BR>
解決策がわからないかもしれませんが・・・。</P>
<P>その場合はAiremixの掲示板で、そのエラースクリーンの情報と共に聞いてくだされば、サポートできるかもしれません（曖昧</P>
<P>成瀬に聞く際は「<SAMP>ERROR:...</SAMP>」だけでなく、エラースクリーンで表示される情報全てを教えてください。<BR>
わたしのサポート用に必要な情報はエラースクリーンでほとんど集まるようにしているので、<BR>
一部だけでは情報が集まらないのです。</P>
</DIV>

<DIV class="section">
<H4 class="h">文字はまったく表示されずただ画面が真っ白になったり、広告と共に化けた文字が表示される場合</H4>
<P>たいてい、GZIP圧縮転送機能と無料サーバーによくある強制広告挿入機構のコンボが原因でしょう。<BR>
対策としては、index.cgiのどこかに <CODE>undef$ENV{'HTTP_ACCEPT_ENCODING'};</CODE> という行を追加して下さい。</P>
</DIV>

<DIV class="section">
<H4 class="h">以上の三つ以外の症状で動作しない場合</H4>
<P>原因が特定できないのでAiremixの掲示板で成瀬に聞いてください。<BR>
まだ確認できていないバグが原因の可能性があります。</P>
</DIV>
</DIV>


<DIV class="section">
<H3 class="h"><A name="文字化けする">文字化けする</A></H3>
<P>書き込んだ内容はちゃんと表示されるのに、メニューとかが文字化けしている、<BR>
またはその逆に、メニューとかはちゃんと表示されるのに、書き込んだ内容が文字化けしている、<BR>
という場合は、CGIをエディタで編集する際にEUC-JP以外の漢字コードで保存してしまっています<BR>
一番多い原因は、エディタの設定で、「保存時に漢字コードをShift_JISにして保存する」<BR>
というような意味の設定が ON になっていて、EUC-JP以外の漢字コード（この場合はShift_JIS）で<BR>
保存してしまっている、という場合が多いと思います</P>
<P>この場合は前述のエディタの設定を「読み込んだときの漢字コードと同じもので保存する」<BR>
というようにしたうえで、「漢字コードを指定して保存する」という項目を探し、<BR>
EUC-JPで保存しなおした上で、再度サーバーにアップロードすれば、文字化けが解消されていると思います<BR>
これでも文字化けしている場合はAiremixの<A href="http://www.airemix.com/bbs/">掲示板</A>に書き込んでください<BR>
できるだけ善処します</P>
<P>ちなみに、TeraPadではこの問題に陥ることがあると思いますが、<BR>
TeraPadで一つ一つのファイルを開いて、<BR>
　表示 → オプション → ウィンドウ/漢字コード タブ → 漢字コード グループ<BR>
　 → □漢字/改行コードを自動認識する　にチェックをつける<BR>
　 → 下の二つは両方「読み込み時の○○コードと同じ」を選ぶ<BR>
とすることで解決すると思います</P>
<P>エディタで保存時にShift_JISにしてしまう以外に、<BR>
FTPソフトでアップロードするときにEUC-JPからShift_JISに変換してしまう場合もあります<BR>
「アップロード時に漢字コードを変換しない」というような意味の設定をしておきましょう<BR>
EUC-JPのファイルをアップロードして、ダウンロードして、エディタで見てみて、<BR>
Shift_JISになっていたら、FTPソフトが原因の可能性が高いです。</P>
</DIV>


<DIV class="section">
<H3 class="h"><A name="Netscape6以降やMozilla系ブラウザでCSSが適用されない">Netscape6以降やMozilla系ブラウザでCSSが適用されない</A></H3>
<P>Netscape6を始めとしたMozilla系のブラウザでは、<BR>
あるバージョン以降からMIME-TYPEにtext/cssが指定されていないCSSファイルを、CSSファイルとして扱ってくれません。<BR>
そのため、CSSのMIME-TYPEが正しく設定されていないサーバーでは、<BR>
個々人で.htaccessを指定することによって、MIME-TYPEを指定しなければなりません。</P>
<P>.htaccessの設置を許可しているサーバーなら、Mireilleの圧縮ファイルに入っている.htaccessを、<BR>
そのままstyle.cssのあるディレクトリにアップロードすればOKです。</P>
<P>.htaccessの設置を許可していないサーバーの場合は、サーバーのサポートに対して、<BR>
「<A href="http://www.mozilla.gr.jp/standards/webtips0016.html">http://www.mozilla.gr.jp/standards/webtips0016.html</A>で言及されていることが起きている」<BR>
と相談してください。</P>
<P>この問題についてはMireille側で対処することはできず、サーバー側で対処する必要があります。</P>
</DIV>


<DIV class="section">
<H3 class="h"><A name="パーミッション（属性）について">パーミッション（属性）について</A></H3>
<P>無料サーバーなどだと、セキュリティ確保のために、サーバー側から、<BR>
「CGIスクリプトのパーミッションは 700 にしてください」<BR>
と言われることがあると思います。<BR>
この場合は、この説明書の記述に関わらず、サーバー側の指示に従ってください。<BR>
基本的に、パーミッションは多少動作がおかしくても、動いてさえいればあっています。<BR>
パーミッションが原因のエラーは基本的に「<SAMP>500 Internal Server Error</SAMP>」か、「<SAMP>Can't write...</SAMP>」系のエラーのみです。</P>
</DIV>


<DIV class="section">
<H3 class="h"><A name="説明書に書いていないファイルが圧縮ファイルの中に入ってた">説明書に書いていないファイルが圧縮ファイルの中に入ってた</A></H3>
<P>おそらくわたしのミスです。<BR>
申し訳ありませんが、無い物と思ってください。</P>
</DIV>


<DIV class="section">
<H3 class="h"><A name="なんだかMireilleの動作がおかしい">なんだかMireilleの動作がおかしい</A></H3>
<P>設定ミスかMireilleのバグが五分五分です。<BR>
一通り説明を見て、設定を確認して、間違いないようでしたら、バグだと報告してください。<BR>
ちなみに自分ひとりで悩む時間は1時間が目安です。<BR>
何時間も悩むような状況が発生したら、説明書がわかりにくいのも「バグ」のうちなので、それも「Mireilleのバグ」です。</P>
</DIV>
</DIV>



<DIV class="section">
<H2 class="h">◇<A name="お世話になったところ">お世話になったところ</A></H2>
<DL>
<DT>Academic HTML &lt;<a href="http://www.tg.rim.or.jp/~hexane/ach/">http://www.tg.rim.or.jp/~hexane/ach/</A>&gt;</DT>
<DD>HTML/CSSに関する的確な情報がたくさんあります。<BR>
HTML/CSSを一通り学びたい場合はここを見るだけで事足りてしまいます。</DD>
<DT>Another HTML-lint &lt;<a href="http://openlab.ring.gr.jp/k16/htmllint/">http://openlab.ring.gr.jp/k16/htmllint/</A>&gt;</DT>
<DD>HTMLの検証に際し利用しました。<BR>
初めてチェックすると、ほとんどの人がショックを受けることでしょう。</DD>
<DT>ARTEMIS &lt;<a href="http://www.artemis.ac/arrange/">http://www.artemis.ac/arrange/</A>&gt;</DT>
<DD>IconPreviewはここからです、便利なので頂きました。<BR>
新しい投稿があると教えてくれる〜もここのを見て、です。<BR>
他にもいろいろと参考にしています。<BR>
管理機能でここを見習う点は数多くあります。</DD>
<DT>HTML鳩丸倶楽部 &lt;<a href="http://www.ne.jp/asahi/minazuki/bakera/html/hatomaru">http://www.ne.jp/asahi/minazuki/bakera/html/hatomaru</A>&gt;</DT>
<DD>ツッコミメインなHTML解説サイト、にわたしは見えました。<BR>
「HTML 4.01 のみを、純粋に学問的な興味から研究」しているそうです。<BR>
HTMLの構成に際して参考にしました。</DD>
<DT>jcode.pl &lt;<a href="http://www.srekcah.org/jcode/">http://www.srekcah.org/jcode/</A>&gt;</DT>
<DD>漢字コード変換用のライブラリです。<BR>
Mireille本体では横着しているので使っていません。<BR>
管理CGIでは一部を切り出して使っています。</DD>
<DT>Jcode.pm &lt;<a href="http://openlab.ring.gr.jp/Jcode/index-j.html">http://openlab.ring.gr.jp/Jcode/index-j.html</A>&gt;</DT>
<DD>jcode.plの後継でPerl5用PerlModuleとなっています。<BR>
jcode.plの機能にUnicodeを扱う機能が追加されています。<BR>
Perl5.8ではEncodeモジュールに置換されているようです。</DD>
<DT>KENT-WEB &lt;<a href="http://www.kent-web.com/">http://www.kent-web.com/</A>&gt;</DT>
<DD>なにはともあれ日本のCGI/Perl界に与えた影響は少なくはないはずです。<BR>
私個人では特にYYBOARD,YYCHATにはお世話になりました。<BR>
きわめてとっつき易いCGIが多いです。</DD>
<DT>Perlメモ &lt;<a href="http://www.din.or.jp/~ohzaki/perl.htm">http://www.din.or.jp/~ohzaki/perl.htm</A>&gt;</DT>
<DD>URI自動リンク機能をつけるに際し参考に・・・むしろ丸写しです。<BR>
Perlの正規表現に関してとても有用な情報があります。</DD>
<DT>W3C HTML Validation Service &lt;<a href="http://validator.w3.org/">http://validator.w3.org/</A>&gt;</DT>
<DD>HTML規格の策定を行う団体、W3CによるHTML検証サービスです。<BR>
Another HTML-lintよりチェック項目は少なめです。</DD>
<DT>とほほのWWW入門 &lt;<a href="http://tohoho.wakusei.ne.jp/">http://tohoho.wakusei.ne.jp/</A>&gt;</DT>
<DD>HTML部、Perl部ともに時々リファレンス代わりにしました。<BR>
なかなか載っていて便利です。</DD>
<DT>彼の野原 &lt;<a href="http://kano.feena.jp/">http://kano.feena.jp/</A>&gt;</DT>
<DD>LastPostはここのealisの真似です。<BR>
また1.2.2の記事ナビは神乃さんのものベースに作りました。<BR>
最近ではPHPに移ってあるべき姿というものを模索していらっしゃるようです。</DD>
<DT>SWORD AND COMMERCE &lt;<a href="http://www10.plala.or.jp/ryokufuudou/kijindou.html">http://www10.plala.or.jp/ryokufuudou/kijindou.html</A>&gt;</DT>
<DD>retroさんにはMireilleでつまづく所No.1と思われるアイコン設定の解説を書いていただきました。<BR>
他にもMireilleの解説の不備な点を多数してもらいました。<BR>
ちなみに、retroさんのサイト自体はRagnarkOnline系雑談サイトです。</DD>
<DT>Snowish Hills &lt;<DEL>http://snowish.cside8.com/</DEL>&gt;</DT>
<DD>Mireilleを作りこむにあたって、半ばオンサイト顧客として、数々の有用なアドバイスを頂きました。<BR>
特に管理CGIは西名さんに言われなければ、かなり貧弱なものになっていたでしょう。<BR>
現在の初期状態のデザインも西名さんのデザインをベースにしています。<BR>
ちなみに、西名さんのサイト自体はKey系CGサイトです。</DD>
</DL>
<P>他にも意見を下さった方々、参考にしたサイト・CGIの作者さんに感謝します。</P>
</DIV>

<P class="note">この説明では&trade;や&reg;や&copy;マークは省略しています。<BR>
それぞれのサイト名やソフトウェア名などは各々の商標や登録商標などです。</P>

<DIV class="PageFoot"><DIV>■■■■■■■</DIV><P><A href="./">BACK to INDEX</A></P></DIV>

<DIV class="AiremixCopy">
<SMALL>[ $Id$ ]</SMALL><BR>
- <A href="http://www.airemix.com/" target="_blank" title="Airemix - Mireille -">Airemix Mireille</A> -</DIV>
</BODY>
</HTML>
